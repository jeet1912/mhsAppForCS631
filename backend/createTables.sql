/*
DROP TABLE MAKES_APPOINTMENT;
DROP TABLE TREATS;
DROP TABLE INVOICE_DETAIL;
DROP TABLE INVOICE;
DROP TABLE PATIENT;
DROP TABLE OUTPATIENT_SURGERY;
DROP TABLE OFFICE_BUILDING;
DROP TABLE NURSE;
DROP TABLE OTHER_HCP;
DROP TABLE DOCTOR;
DROP TABLE ADMIN_STAFF;
DROP TABLE EMPLOYEE;
DROP TABLE FACILITY;
DROP TABLE INSURANCE_COMPANY;
*/

CREATE TABLE FACILITY (
    Facility_ID VARCHAR2(255) PRIMARY KEY,
    Street VARCHAR2(255),
    City VARCHAR2(255),
    State VARCHAR2(2),
    Zip VARCHAR2(10),
    MaxSize NUMBER,
    Facility_Type VARCHAR2(50)
);

CREATE TABLE OFFICE_BUILDING (
    Facility_ID VARCHAR2(255) PRIMARY KEY REFERENCES FACILITY(Facility_ID),
    Office_Count NUMBER
);

CREATE TABLE OUTPATIENT_SURGERY (
    Facility_ID VARCHAR2(255) PRIMARY KEY REFERENCES FACILITY(Facility_ID),
    Room_Count NUMBER,
    Procedure_Code VARCHAR2(255),
    Description VARCHAR2(1000)
);

CREATE TABLE EMPLOYEE (
    EmployeeID VARCHAR2(255) PRIMARY KEY,
    SSN VARCHAR2(11) UNIQUE,
    FirstName VARCHAR2(255),
    MiddleName VARCHAR2(255),
    LastName VARCHAR2(255),
    Street VARCHAR2(255),
    City VARCHAR2(255),
    State VARCHAR2(255),
    Zip VARCHAR2(10),
    Salary NUMBER(10, 2),
    Date_Hired DATE,
    Job_Class VARCHAR2(50),
    Fac_ID VARCHAR2(255) REFERENCES FACILITY(Facility_ID)
);

CREATE TABLE DOCTOR (
    EmployeeID VARCHAR2(255) PRIMARY KEY REFERENCES EMPLOYEE(EmployeeID),
    Speciality VARCHAR2(255),
    Board_Certification_Date DATE
);

CREATE TABLE NURSE (
    EmployeeID VARCHAR2(255) PRIMARY KEY REFERENCES EMPLOYEE(EmployeeID),
    Certification VARCHAR2(255)
);

CREATE TABLE OTHER_HCP (
    EmployeeID VARCHAR2(255) PRIMARY KEY REFERENCES EMPLOYEE(EmployeeID),
    Practice_Area VARCHAR2(255)
);

CREATE TABLE ADMIN_STAFF (
    EmployeeID VARCHAR2(255) PRIMARY KEY REFERENCES EMPLOYEE(EmployeeID),
    Job_Title VARCHAR2(255)
);


CREATE TABLE INSURANCE_COMPANY (
    InsuranceComp_ID VARCHAR2(255) PRIMARY KEY,
    Name VARCHAR2(255) NOT NULL,
    Street VARCHAR2(255),
    City VARCHAR2(255),
    State VARCHAR2(2),
    Zip VARCHAR2(10)
);

CREATE TABLE PATIENT (
    Patient_ID VARCHAR2(255) PRIMARY KEY,
    FirstName VARCHAR2(255),
    MiddleName VARCHAR2(255),
    LastName VARCHAR2(255),
    Street VARCHAR2(255),
    City VARCHAR2(255),
    State VARCHAR2(2),
    Zip VARCHAR2(10),
    First_Visit_Date DATE,
    Doctor_ID VARCHAR2(255) REFERENCES DOCTOR(EmployeeID),
    InComp_ID VARCHAR2(255) REFERENCES INSURANCE_COMPANY(InsuranceComp_ID)
);

CREATE TABLE TREATS (
    Patient_ID VARCHAR2(255),
    Doctor_ID VARCHAR2(255),
    PRIMARY KEY (Patient_ID, Doctor_ID),
    FOREIGN KEY (Patient_ID) REFERENCES PATIENT(Patient_ID),
    FOREIGN KEY (Doctor_ID) REFERENCES DOCTOR(EmployeeID)
);

CREATE TABLE INVOICE (
    Inv_ID VARCHAR2(255) PRIMARY KEY,
    InvDate DATE,
    InComp_ID VARCHAR2(255) REFERENCES INSURANCE_COMPANY(InsuranceComp_ID)
);

CREATE TABLE INVOICE_DETAIL (
    InvDetailID VARCHAR2(255) PRIMARY KEY,
    Cost NUMBER(10, 2),
    Inv_ID VARCHAR2(255) REFERENCES INVOICE(Inv_ID)
);


CREATE TABLE MAKES_APPOINTMENT (
    Pat_ID VARCHAR2(255),
    Doc_ID VARCHAR2(255),
    Fac_ID VARCHAR2(255),
    Date_Time TIMESTAMP,
    In_ID VARCHAR2(255),
    PRIMARY KEY (Pat_ID, Doc_ID, Fac_ID, Date_Time),
    FOREIGN KEY (Pat_ID) REFERENCES PATIENT(Patient_ID),
    FOREIGN KEY (Doc_ID) REFERENCES DOCTOR(EmployeeID),
    FOREIGN KEY (Fac_ID) REFERENCES FACILITY(Facility_ID),
    FOREIGN KEY (In_ID) REFERENCES INVOICE(Inv_ID)
);
