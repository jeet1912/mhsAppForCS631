{% extends 'home.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'css/employee.css' %}">
<div class="container-fluid">
    <div class="row">
        <div class="col-md-2 vertical-nav-col">
            <div class="list-group">
                <a href="{% url 'view_report1' %}" class="list-group-item list-group-item-action " id="viewFacilities">Facility Revenue</a>
                <a href="{% url 'view_report2' %}" class="list-group-item list-group-item-action " id="viewFacilities">Doctor Appointments</a>
                <a href="{% url 'view_report3' %}" class="list-group-item list-group-item-action " id="viewFacilities">Facility Appointments</a>
                <a href="{% url 'view_report4' %}" class="list-group-item list-group-item-action active-tab" id="viewFacilities">Top Revenue Days</a>
                <a href="{% url 'view_report5' %}" class="list-group-item list-group-item-action " id="viewFacilities">Avg.Revenue by Ins. Co.</a>  
            </div>
        </div>        
        <div class="col-md-10">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-12">
                        <div class="card mt-8">
                            <div class="card-body">
                                <center><h5>Best Five Days</h5></center>
                                <p class="lead">for a selected month :</p>
                                <br><center>
                                    <form action="{% url 'view_report4' %}" method="GET">
                                        <div class="mb-3">
                                            <label for="monthSelect" class="form-label">Month</label>
                                            <select class="form-select" id="selected_month" name="selected_month">
                                                <option value="01">January</option>
                                                <option value="02">February</option>
                                                <option value="03">March</option>
                                                <option value="04">April</option>
                                                <option value="05">May</option>
                                                <option value="06">June</option>
                                                <option value="07">July</option>
                                                <option value="08">August</option>
                                                <option value="09">September</option>
                                                <option value="10">October</option>
                                                <option value="11">November</option>
                                                <option value="12">December</option>
                                            </select>
                                        </div>
                                        <div class="mb-3">
                                            <label for="yearInput" class="form-label">Year</label>
                                            <input type="number" class="form-control" id="selected_year" placeholder="2024" name="selected_year">
                                        </div>
                                        <button type="submit" class="btn btn-primary">Submit</button>
                                    </form>                                
                                    {% if best_days %}
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Date</th>
                                                    <th>Revenue</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% for day in best_days %}
                                                <tr>
                                                    <td>{{ day.InvDate }}</td>
                                                    <td>{{ day.Total_Revenue }}</td>
                                                </tr>
                                                {% empty %}
                                                <tr>
                                                    <td colspan="2">No data.</td>
                                                </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function toggleAdditionalFields() {
        var jobClass = document.getElementById("facility_type").value;
        var additionalFields = document.getElementsByClassName("additional-fields");
        for (var i = 0; i < additionalFields.length; i++) {
            additionalFields[i].style.display = "none";
        }
        var additionalFieldsToShow = document.getElementById("additional_fields_" + jobClass.toLowerCase().trim());
        additionalFieldsToShow.style.display = "block";
    }
    document.addEventListener("DOMContentLoaded", toggleAdditionalFields);
</script>
{% endblock %}
